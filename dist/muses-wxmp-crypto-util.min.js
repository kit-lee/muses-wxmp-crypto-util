"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},crypto=require("crypto"),md5=crypto.createHash("md5");exports.getSignature=function(t,o,r){if(void 0==t||null==t)throw new Error("params must not be null.");if("object"!==(void 0===t?"undefined":_typeof(t)))throw new Error("params should be a json object.");if(void 0==o||null==o||""==o)throw new Error("timestamp must not be null or empty.");if(void 0==r||null==r||""==r)throw new Error("client_secret must not be null or empty,");var e=crypto.createHmac("sha1",r),n=md5.update(o+r).digest("hex").toUpperCase(),p=[];for(var u in t)p.push(u);p.sort();var i="";for(var a in p){var s=p[a];i+="&"+s+"="+t[s]}return e.update(i+n).digest("hex").toUpperCase()};